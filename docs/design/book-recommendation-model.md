    ## 👥 四步协同推荐模型：多 Agent 流程大纲

这个流程将信息收集和推荐生成进行分离，确保每个环节都由最专业的“角色”（Agent）来完成。

### 第一步：🕵️ 文学向导 (The Selector)

**角色定位：** 人机交互的前端，负责与用户对话，理解需求，并做出初级推荐的决策。

|**子步骤**|**目标**|**动作/输出**|
|---|---|---|
|**1.1 用户对话与需求理解**|运用提问技巧（如“最喜欢哪本，为什么？”）深入了解用户的偏好、阅读历史、当前心情和阅读目的。|内部输出一套**用户画像标签**（例如：`[类型: 科幻, 风格: 硬核, 情绪: 渴望挑战, 已读:《沙丘》]`）。|
|**1.2 初步推荐筛选**|基于用户画像和内部数据库，筛选出 2-3 本最匹配的**候选书目**。|输出：**候选书目列表**（包含书名、作者、ISBN/ID）。|
|**1.3 任务分配**|将候选书目列表分发给其他三个 Agent，要求他们围绕这 2-3 本书生成各自的内容。|**分发指令：** “针对以下书目，请生成你的专业内容。”|

### 第二步：📝 摘要撰写者 (The Essence Extractor)

**角色定位：** 信息的压缩和精炼专家，提供书本内容的客观概述。

|**子步骤**|**目标**|**动作/输出**|
|---|---|---|
|**2.1 接收任务与检索**|接收候选书目，从专业数据库中检索相关信息。|动作：识别书的核心主题、主要冲突和重要人物。|
|**2.2 撰写简洁摘要**|将书籍的**精髓**提炼成一段简洁、客观、清晰的文字，避免过度剧透。|输出：每本书的**《简洁精髓摘要》**（约 50-80 字）。|
|**2.3 传递结果**|将生成的摘要回传给**在线图书管理员**。|传递内容：`[书名 A, 摘要 A]`，`[书名 B, 摘要 B]`。|

### 第三步：💡 图书推荐人 (The Insight Provider)

**角色定位：** 见解独到的评论家，专注于根据用户描述生成极具说服力的“为什么你应该读它”的理由。

|**子步骤**|**目标**|**动作/输出**|
|---|---|---|
|**3.1 接收任务与情境化**|接收候选书目，并同时接收**文学向导**提供的用户画像标签。|动作：将书目特点与用户需求进行**关联匹配**。|
|**3.2 撰写推荐理由摘要**|撰写一段具有“极简价值”的推荐理由，重点说明这本书如何满足用户的**特定需求**或解决其**特定阅读目的**。|输出：每本书的**《极简价值推荐理由》**（约 30-50 字，侧重主观感受和价值）。|
|**3.3 传递结果**|将生成的推荐理由回传给**在线图书管理员**。|传递内容：`[书名 A, 推荐理由 A]`，`[书名 B, 推荐理由 B]`。|

### 第四步：🗂️ 在线图书管理员 (The Assembler)

**角色定位：** 信息的整合者和交付者，确保所有组件准备就绪并以一致的格式呈现。

|**子步骤**|**目标**|**动作/输出**|
|---|---|---|
|**4.1 接收与核对**|接收来自**摘要撰写者**和**图书推荐人**的内容。|动作：验证每本书是否拥有**摘要**和**推荐理由**。|
|**4.2 内容整合与排版**|将所有信息整合到一个标准化的、面向读者的推荐模板中。|输出：**《最终推荐卡片》**（结构化数据，每本书包含：书名、作者、摘要、推荐理由）。|
|**4.3 返回给文学向导**|将完整的推荐卡片返回给**文学向导**。|传递内容：完整的、已排版的推荐结果。|

### 最终步骤：🎁 文学向导 (The Deliverer)

**角色定位：** 将结构化的推荐结果，以对话的形式友好地交付给读者，并引导读者做出最终选择。

|**步骤**|**目标**|**动作/输出**|
|---|---|---|
|**5.1 友好交付**|接收最终推荐卡片，并以鼓励和专业的语气向读者展示。|呈现内容：以清晰易读的格式展示 2-3 本书的全部信息。|
|**5.2 引导选择**|邀请读者从 2-3 本书中做出最终的选择。|**向导：** “这三本就是我们为您精选的读物。您更倾向于哪一本？我们随时可以为您提供更多延伸信息。”|
|**5.3 结束与追踪**|记录用户的最终选择，并准备进行下一步的阅读追踪或衍生服务。|**流程结束。**|